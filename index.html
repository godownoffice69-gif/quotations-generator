<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FirepowerSFX ‚Äî Price List 2024‚Äì25</title>

  <!-- Google Analytics GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-R7SXFLHW48"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-R7SXFLHW48');
  </script>
  <!-- End Google Analytics -->

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    :root{
      --cyan: #00d5ff;
      --violet: #8f6bff;
      --silver: #dfe6eb;
      --gold: #ffd75e;
      --card-bg: rgba(255,255,255,0.035);
      --panel-border: rgba(130,140,180,0.06);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body { 
      height: 100%; 
      margin: 0; 
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    body {
      color: var(--silver);
      background: linear-gradient(180deg, #0e1216 0%, #171d23 45%, #232a33 100%);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* aurora ribbons */
    .aurora-layer { 
      position: fixed; 
      inset: 0; 
      z-index: 0; 
      overflow: hidden; 
      pointer-events: none; 
    }
    
    .wave {
      position: absolute;
      width: 160%;
      height: 160%;
      top: -30%;
      left: -30%;
      opacity: 0.14;
      background:
        radial-gradient(circle at 30% 50%, rgba(0,213,255,0.95) 0%, transparent 60%),
        radial-gradient(circle at 70% 60%, rgba(143,107,255,0.92) 0%, transparent 70%);
      filter: blur(140px);
      animation: drift 48s linear infinite alternate;
      mix-blend-mode: screen;
    }
    
    .wave.v2 { 
      animation-delay: 12s; 
      transform: rotate(20deg); 
      opacity: 0.10; 
    }
    
    @keyframes drift {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-8%) rotate(10deg); }
      100% { transform: translateY(4%) rotate(-5deg); }
    }

    /* spark basics */
    .spark {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      pointer-events: none;
      animation: riseToTop linear forwards;
      will-change: transform, opacity;
      filter: drop-shadow(0 8px 18px rgba(0,0,0,0.18));
    }
    
    @keyframes riseToTop {
      0% { transform: translateY(0) scale(1); opacity: 0.95; }
      100% { transform: translateY(-150vh) scale(0.2); opacity: 0; }
    }
    
    .spark.cyan { 
      background: radial-gradient(circle, rgba(0,213,255,1) 0%, rgba(0,213,255,0.45) 55%, rgba(255,255,255,0) 100%); 
      z-index: 22; 
    }
    
    .spark.gold { 
      background: radial-gradient(circle, rgba(255,215,94,1) 0%, rgba(255,215,94,0.45) 55%, rgba(255,255,255,0) 100%); 
      z-index: 18; 
      filter: drop-shadow(0 10px 22px rgba(255,180,60,0.10)); 
    }

    /* Particle Explosion Effect */
    .particle {
      position: absolute;
      pointer-events: none;
      border-radius: 50%;
      animation: explode 0.8s ease-out forwards;
    }
    
    @keyframes explode {
      0% { 
        transform: translate(0, 0) scale(1); 
        opacity: 1; 
      }
      100% { 
        transform: translate(var(--tx), var(--ty)) scale(0); 
        opacity: 0; 
      }
    }

    /* layout & UI */
    .container { 
      max-width: 1280px; 
      margin: 0 auto; 
      padding: 40px 20px 40px 20px; 
      position: relative; 
      z-index: 10; 
    }
    
    header { 
      display: flex; 
      flex-direction: column; 
      gap: 16px; 
      margin-bottom: 28px; 
      z-index: 11; 
    }
    
    @media(min-width:640px){ 
      header { 
        flex-direction: row; 
        align-items: center; 
        justify-content: space-between; 
      } 
    }

    .title { 
      font-weight: 700; 
      font-size: 32px; 
      color: var(--violet); 
      letter-spacing: -0.5px;
    }
    
    .subtitle { 
      color: rgba(223,230,235,0.74); 
      font-size: 15px; 
      margin-top: 6px; 
    }

    /* Contact Info - MORE PROMINENT */
    .contact-info {
      display: flex;
      gap: 18px;
      align-items: center;
      margin-top: 12px;
      flex-wrap: wrap;
      background: rgba(0,213,255,0.08);
      padding: 12px 16px;
      border-radius: 10px;
      border: 1px solid rgba(0,213,255,0.2);
    }
    
    .contact-info a {
      color: var(--cyan);
      text-decoration: none;
      font-size: 16px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
      padding: 8px 12px;
      border-radius: 6px;
      background: rgba(0,213,255,0.05);
    }
    
    .contact-info a:hover { 
      background: rgba(0,213,255,0.15);
      transform: translateY(-2px);
    }
    
    .contact-info a.phone-link {
      background: rgba(0,213,255,0.15);
      border: 2px solid var(--cyan);
      font-size: 18px;
    }

    /* controls */
    .controls { 
      display: flex; 
      gap: 10px; 
      align-items: center; 
      flex-wrap: wrap; 
      width: 100%; 
    }
    
    @media(min-width:640px){ 
      .controls { 
        width: auto; 
      } 
    }
    
    .search-box {
      position: relative;
      flex: 1;
      min-width: 220px;
      max-width: 360px;
    }
    
    .search-box input {
      padding: 11px 38px 11px 14px;
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(43,51,57,0.9);
      background: rgba(27,34,40,0.74);
      color: var(--silver);
      font-size: 15px;
    }
    
    .search-box input:focus {
      outline: 2px solid var(--cyan);
      outline-offset: 2px;
    }
    
    .search-box svg { 
      position: absolute; 
      right: 12px; 
      top: 50%; 
      transform: translateY(-50%); 
      pointer-events: none; 
      color: rgba(223,230,235,0.6); 
    }

    .filter-group {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    select {
      padding: 11px 14px;
      border-radius: 10px;
      background: rgba(27,34,40,0.74);
      border: 1px solid rgba(43,51,57,0.9);
      color: var(--silver);
      font-size: 14px;
      cursor: pointer;
    }
    
    select:focus {
      outline: 2px solid var(--cyan);
      outline-offset: 2px;
    }

    .btn {
      padding: 11px 16px;
      border-radius: 10px;
      background: rgba(27,34,40,0.74);
      border: 1px solid rgba(43,51,57,0.9);
      color: var(--silver);
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 7px;
      transition: all 0.2s;
      white-space: nowrap;
    }
    
    .btn:hover { 
      background: rgba(35,45,55,0.8); 
      transform: translateY(-1px);
    }
    
    .btn:focus {
      outline: 2px solid var(--cyan);
      outline-offset: 2px;
    }
    
    .btn-primary {
      background: var(--violet);
      color: white;
      border-color: var(--violet);
      font-weight: 500;
    }
    
    .btn-primary:hover { 
      background: #7a5ee8; 
    }

    .btn-danger {
      background: #ff4444;
      color: white;
      border-color: #ff4444;
    }

    .btn-danger:hover {
      background: #cc0000;
    }

    /* Floating Cart Button */
    .floating-cart {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 999;
      animation: floatIn 0.4s ease-out;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .floating-cart.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    
    @keyframes floatIn {
      from { transform: translateY(100px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .floating-cart .btn {
      padding: 16px 24px;
      font-size: 16px;
      font-weight: 600;
      box-shadow: 0 8px 24px rgba(0,213,255,0.3);
    }

    /* Cart Badge */
    .cart-btn {
      position: relative;
    }
    
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--cyan);
      color: #000;
      border-radius: 50%;
      min-width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: bold;
      padding: 0 6px;
    }

    /* Mini Cart Sidebar */
    .mini-cart {
      position: fixed;
      right: 0;
      top: 0;
      width: 340px;
      height: 100vh;
      background: rgba(20,25,31,0.98);
      backdrop-filter: blur(12px);
      border-left: 1px solid var(--panel-border);
      z-index: 1000;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      overflow-y: auto;
      padding: 20px;
    }
    
    .mini-cart.show {
      transform: translateX(0);
    }
    
    .mini-cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--panel-border);
    }
    
    .mini-cart-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--violet);
    }
    
    .mini-cart-item {
      padding: 12px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      border: 1px solid var(--panel-border);
      margin-bottom: 10px;
      font-size: 13px;
    }
    
    .mini-cart-total {
      position: sticky;
      bottom: 0;
      background: rgba(20,25,31,0.98);
      padding: 15px 0;
      border-top: 2px solid var(--cyan);
      margin-top: 15px;
    }

    /* Loading Shimmer */
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    .shimmer {
      animation: shimmer 2s infinite;
      background: linear-gradient(90deg, transparent, rgba(0,213,255,0.1), transparent);
      background-size: 1000px 100%;
    }

    /* Counter Animation */
    @keyframes countUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .count-animate {
      animation: countUp 0.4s ease-out;
    }

    /* Category Icons */
    .category-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--cyan), var(--violet));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-right: 12px;
    }

    /* headings */
    .section-heading {
      margin: 32px 0 20px;
      font-size: 20px;
      font-weight: 600;
      color: var(--violet);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .section-divider { 
      flex: 1; 
      height: 1px; 
      background: linear-gradient(90deg, transparent, rgba(143,107,255,0.12), transparent); 
    }

    /* MASONRY LAYOUT */
    .gallery { 
      column-count: 1;
      column-gap: 20px;
      margin-bottom: 35px;
    }
    
    @media(min-width:640px){ 
      .gallery { 
        column-count: 2;
      } 
    }
    
    @media(min-width:1024px){ 
      .gallery { 
        column-count: 3;
      } 
    }

    /* cards */
    .card {
      padding: 18px;
      border-radius: 12px;
      background: var(--card-bg);
      backdrop-filter: blur(8px);
      border: 1px solid var(--panel-border);
      transition: transform 0.22s ease, box-shadow 0.22s ease;
      position: relative;
      overflow: visible;
      break-inside: avoid;
      margin-bottom: 20px;
      display: inline-block;
      width: 100%;
    }
    
    .card:hover { 
      transform: translateY(-6px); 
      box-shadow: 0 14px 36px rgba(0,210,255,0.08); 
    }
    
    .card.in-cart { 
      border-color: var(--cyan); 
    }

    .card h3 { 
      font-size: 17px; 
      margin: 0; 
      color: #e9eef2;
      line-height: 1.4;
    }
    
    .card p.desc { 
      margin: 8px 0 0; 
      color: rgba(223,230,235,0.66); 
      font-size: 14px;
      line-height: 1.5;
    }
    
    .card .meta { 
      margin-top: 14px; 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      gap: 10px; 
    }
    
    .price { 
      font-weight: 700; 
      font-size: 19px; 
      color: var(--cyan); 
    }
    
    .price-note { 
      font-size: 13px; 
      color: rgba(223,230,235,0.64); 
      margin-top: 4px; 
    }

    /* Quantity Controls */
    .cart-controls {
      margin-top: 12px;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .qty-selector {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .qty-btn {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      background: rgba(27,34,40,0.74);
      border: 1px solid rgba(43,51,57,0.9);
      color: var(--silver);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 600;
    }
    
    .qty-btn:hover { 
      background: rgba(35,45,55,0.8); 
    }
    
    .qty-display {
      min-width: 32px;
      text-align: center;
      font-size: 15px;
      font-weight: 500;
    }
    
    .add-to-cart {
      flex: 1;
      padding: 8px 14px;
      border-radius: 6px;
      background: var(--violet);
      color: white;
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
    }
    
    .add-to-cart:hover { 
      background: #7a5ee8; 
    }
    
    .add-to-cart.added { 
      background: var(--cyan); 
      color: #000; 
    }

    /* Cart Modal */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 1000;
      background: rgba(0,0,0,0.85);
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .modal.show { 
      display: flex; 
    }
    
    .modal-content {
      background: #1a1f26;
      border-radius: 16px;
      border: 1px solid var(--panel-border);
      max-width: 700px;
      width: 100%;
      max-height: 85vh;
      overflow-y: auto;
      padding: 28px;
    }

    .modal-content.wide {
      max-width: 95vw;
      width: 95vw;
      max-height: 90vh;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }
    
    .modal-title {
      font-size: 22px;
      color: var(--violet);
      font-weight: 600;
    }
    
    .close-modal {
      background: none;
      border: none;
      color: var(--silver);
      font-size: 28px;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
    }
    
    .close-modal:hover {
      color: var(--cyan);
    }
    
    .cart-items {
      display: flex;
      flex-direction: column;
      gap: 14px;
      margin-bottom: 24px;
    }
    
    .cart-item {
      padding: 14px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      border: 1px solid var(--panel-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }
    
    .cart-total {
      padding: 18px;
      background: rgba(0,213,255,0.05);
      border-radius: 8px;
      border: 1px solid rgba(0,213,255,0.2);
      margin-bottom: 24px;
    }
    
    .total-label {
      font-size: 18px;
      color: var(--silver);
      font-weight: 600;
    }
    
    .total-amount {
      font-size: 26px;
      color: var(--cyan);
      font-weight: 700;
    }

    /* PACKAGE BUILDER STYLES */
    .builder-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .builder-panel {
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--panel-border);
      border-radius: 12px;
      padding: 20px;
      height: 60vh;
      overflow-y: auto;
    }

    .builder-panel h3 {
      color: var(--violet);
      margin-bottom: 15px;
      font-size: 18px;
    }

    .day-item {
      background: rgba(0,213,255,0.05);
      border: 1px solid rgba(0,213,255,0.2);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 12px;
    }

    .day-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .day-title {
      font-weight: 600;
      color: var(--cyan);
      font-size: 16px;
    }

    .function-item {
      background: rgba(143,107,255,0.05);
      border: 1px solid rgba(143,107,255,0.2);
      border-radius: 6px;
      padding: 12px;
      margin: 8px 0;
      cursor: pointer;
      transition: all 0.2s;
    }

    .function-item:hover {
      background: rgba(143,107,255,0.1);
    }

    .function-item.active {
      border-color: var(--violet);
      background: rgba(143,107,255,0.15);
    }

    .product-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 10px;
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--panel-border);
      border-radius: 6px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .product-checkbox:hover {
      background: rgba(255,255,255,0.04);
    }

    .product-checkbox input[type="checkbox"] {
      margin-top: 3px;
      cursor: pointer;
    }

    .product-search {
      margin-bottom: 15px;
    }

    .summary-section {
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--panel-border);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
    }

    .summary-day {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--panel-border);
    }

    .summary-day:last-child {
      border-bottom: none;
    }

    .summary-function {
      margin: 10px 0;
      padding-left: 15px;
    }

    .summary-item {
      font-size: 13px;
      color: rgba(223,230,235,0.8);
      margin: 5px 0;
      padding-left: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* FIXED QUANTITY CONTROLS IN PACKAGE BUILDER */
    .summary-item-qty {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-left: auto;
      background: rgba(0,213,255,0.08);
      padding: 4px 8px;
      border-radius: 6px;
      border: 1px solid rgba(0,213,255,0.2);
    }

    .summary-item-qty button {
      width: 26px;
      height: 26px;
      border-radius: 4px;
      background: var(--violet);
      border: none;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 700;
      transition: all 0.2s;
    }

    .summary-item-qty button:hover {
      background: #7a5ee8;
      transform: scale(1.1);
    }

    .summary-item-qty span {
      min-width: 28px;
      text-align: center;
      font-size: 14px;
      font-weight: 600;
      color: var(--cyan);
    }

    /* Checkbox */
    .checkbox-wrapper {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin: 20px 0;
    }
    
    .checkbox-wrapper input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
      margin-top: 2px;
    }
    
    .checkbox-wrapper label {
      cursor: pointer;
      font-size: 13px;
      line-height: 1.5;
      color: rgba(223,230,235,0.8);
    }

    /* Quote Preview */
    #quotePreview {
      background: white;
      color: #000;
      padding: 40px;
      border-radius: 12px;
      max-width: 800px;
      margin: 0 auto;
      font-family: Arial, sans-serif;
    }
    
    .quote-header {
      text-align: center;
      border-bottom: 3px solid #8f6bff;
      padding-bottom: 20px;
      margin-bottom: 30px;
    }
    
    .quote-logo {
      font-size: 32px;
      font-weight: bold;
      color: #8f6bff;
      margin-bottom: 5px;
    }
    
    .quote-tagline {
      font-size: 14px;
      color: #666;
    }
    
    .quote-section {
      margin-bottom: 25px;
    }
    
    .quote-section-title {
      font-size: 16px;
      font-weight: bold;
      color: #8f6bff;
      margin-bottom: 10px;
      border-bottom: 2px solid #00d5ff;
      padding-bottom: 5px;
    }
    
    .quote-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .quote-table th {
      background: #8f6bff;
      color: white;
      padding: 12px;
      text-align: left;
      font-size: 14px;
    }
    
    .quote-table td {
      padding: 10px 12px;
      border-bottom: 1px solid #e0e0e0;
      font-size: 13px;
    }
    
    .quote-table tr:last-child td {
      border-bottom: none;
    }
    
    .quote-total-row {
      background: #f5f5f5;
      font-weight: bold;
    }
    
    .quote-footer {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 2px solid #e0e0e0;
      font-size: 12px;
      color: #666;
      text-align: center;
    }
    
    .quote-terms {
      font-size: 11px;
      color: #999;
      margin-top: 15px;
      font-style: italic;
    }

    /* Wishlist Heart */
    .wishlist-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(0,0,0,0.5);
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.2s;
    }
    
    .wishlist-btn:hover {
      background: rgba(0,0,0,0.7);
      transform: scale(1.1);
    }
    
    .wishlist-btn.active {
      color: #ff4444;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-label {
      display: block;
      margin-bottom: 6px;
      color: var(--silver);
      font-size: 14px;
      font-weight: 500;
    }

    .form-input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid rgba(43,51,57,0.9);
      background: rgba(27,34,40,0.74);
      color: var(--silver);
      font-size: 14px;
    }

    .form-input:focus {
      outline: 2px solid var(--cyan);
      outline-offset: 2px;
    }

    /* Time Slot Picker */
    .time-slots {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 10px;
    }
    
    .time-slot {
      padding: 12px;
      border: 2px solid rgba(43,51,57,0.9);
      border-radius: 8px;
      background: rgba(27,34,40,0.74);
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
      font-size: 13px;
    }
    
    .time-slot:hover {
      border-color: var(--cyan);
    }
    
    .time-slot.selected {
      border-color: var(--cyan);
      background: rgba(0,213,255,0.1);
      color: var(--cyan);
    }

    @media print {
      body { background: #fff; color: #000; }
      .aurora-layer, #spark-layer, .no-print, .cart-controls, .controls, .floating-cart, .mini-cart { display: none !important; }
      .card { background: #fff; border: 1px solid #ddd; box-shadow: none; page-break-inside: avoid; }
      .price { color: #000; }
    }

    /* Mobile responsiveness */
    @media(max-width: 768px) {
      .mini-cart {
        width: 100%;
      }
      
      .time-slots {
        grid-template-columns: 1fr;
      }
      
      .floating-cart {
        bottom: 20px;
        right: 20px;
      }

      .builder-container {
        grid-template-columns: 1fr;
      }

      .builder-panel {
        height: 50vh;
      }

      .modal-content.wide {
        max-width: 100%;
        width: 100%;
      }
      
      .contact-info {
        flex-direction: column;
        align-items: stretch;
      }
      
      .contact-info a {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <!-- aurora ribbons -->
  <div class="aurora-layer" aria-hidden="true">
    <div class="wave"></div>
    <div class="wave v2"></div>
  </div>

  <!-- spark layer -->
  <div id="spark-layer" aria-hidden="true" style="position:fixed; inset:0; pointer-events:none; z-index:8;"></div>

  <div class="container">

    <!-- HEADER -->
    <header>
      <div>
        <div class="title">FIREPOWERSFX <span style="color:var(--cyan); font-size:16px; margin-left:10px;">2024‚Äì25</span></div>
        <div class="subtitle">SFX Machines ‚Ä¢ Crackers ‚Ä¢ Pyro Effects</div>
        
        <div class="contact-info">
          <a href="tel:+919898496111" class="phone-link" aria-label="Call Yogendra Bhai">
            üì± 9898 496 111 (Yogendra bhai)
          </a>
          <a href="tel:+917698496111" class="phone-link" aria-label="Call Lala Bhai">
            üì± 7698 496 111 (Lala bhai)
          </a>
          <a href="https://www.instagram.com/firepowersfx?igsh=YzljYTk1ODg3Zg==" target="_blank" rel="noopener noreferrer" aria-label="Visit our Instagram">
            üì∑ @firepowersfx
          </a>
          <a href="https://youtube.com/@firepowers4459?si=ORfi1MTnjwlSuu4Q" target="_blank" rel="noopener noreferrer" aria-label="Visit our YouTube">
            üé• FirePowers
          </a>
          <a href="http://www.firepowers.in" target="_blank" rel="noopener noreferrer" aria-label="Visit our website">
            üåê firepowers.in
          </a>
        </div>
      </div>

      <div class="controls no-print">
        <div class="search-box">
          <input id="search" type="search" placeholder="Search products..." aria-label="Search products" />
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z"></path>
          </svg>
        </div>
        
        <div class="filter-group">
          <select id="budgetFilter" aria-label="Filter by budget">
            <option value="">All Budgets</option>
            <option value="0-10000">Budget Friendly (Under ‚Çπ10k)</option>
            <option value="10000-25000">Standard (‚Çπ10k - ‚Çπ25k)</option>
            <option value="25000-50000">Premium (‚Çπ25k - ‚Çπ50k)</option>
            <option value="50000-100000">Luxury (‚Çπ50k - ‚Çπ1L)</option>
            <option value="100000+">Ultra Premium (Above ‚Çπ1L)</option>
          </select>
          
          <select id="sortFilter" aria-label="Sort products">
            <option value="">Default Order</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="name">Name: A-Z</option>
          </select>
        </div>
        
        <button class="btn btn-primary" id="packageBuilderBtn" aria-label="Package Builder">
          ‚ú® Package Builder
        </button>
        <button class="btn" id="toggleMiniCart" aria-label="Toggle mini cart">
          üìä Quick View
        </button>
      </div>
    </header>

    <!-- SFX MACHINES SECTION -->
    <div class="section-heading">
      <div class="category-icon">‚ö°</div>
      <div>SFX Machines</div>
      <div class="section-divider"></div>
    </div>
    <div id="sfx-gallery" class="gallery">
      
      <article class="card" data-name="Showven Sparkler" data-desc="200 gram powder" data-price="5000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Sparkler</h3>
        <p class="desc">200 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ5,000</div>
            <div class="price-note">5,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Spinner" data-desc="400 gram powder" data-price="10000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Spinner</h3>
        <p class="desc">400 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Cyclone" data-desc="10 mtr/400 gram powder" data-price="10000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Cyclone</h3>
        <p class="desc">10 mtr/400 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Sparkler 3-head" data-desc="600 gram powder" data-price="12000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Sparkler 3-head</h3>
        <p class="desc">600 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ12,000</div>
            <div class="price-note">12,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Waver (butterfly)" data-desc="400 gram powder" data-price="10000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Waver (butterfly)</h3>
        <p class="desc">400 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven snow machine" data-desc="Snow effect machine" data-price="10000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven snow machine</h3>
        <p class="desc">Snow effect machine</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven circle flame-moving" data-desc="10 ltr liquid (approx. 100 shot)" data-price="12500" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven circle flame-moving</h3>
        <p class="desc">10 ltr liquid (approx. 100 shot)</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ12,500</div>
            <div class="price-note">12,500 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Sonic Boom (CO2 jet)" data-desc="CO2 jet effect" data-price="6000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Sonic Boom (CO2 jet)</h3>
        <p class="desc">CO2 jet effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ6,000</div>
            <div class="price-note">6,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Waterfall Machine" data-desc="200 gram powder" data-price="7000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Waterfall Machine</h3>
        <p class="desc">200 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ7,000</div>
            <div class="price-note">7,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Curtain Power Drop" data-desc="8 machine and 50 x 25 white curtain" data-price="25000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Curtain Power Drop</h3>
        <p class="desc">8 machine and 50 x 25 white curtain</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ25,000</div>
            <div class="price-note">25,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven 5-head Flame" data-desc="5-head flame effect" data-price="50000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven 5-head Flame</h3>
        <p class="desc">5-head flame effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ50,000</div>
            <div class="price-note">50,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Showven Sparkler Blaster hand gun" data-desc="200 gram powder" data-price="10000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Showven Sparkler Blaster hand gun</h3>
        <p class="desc">200 gram powder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="CO2 Jet" data-desc="45 kg cylinder-approx 45 shot" data-price="6000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>CO2 Jet</h3>
        <p class="desc">45 kg cylinder-approx 45 shot</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ6,000</div>
            <div class="price-note">6,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Co2 Confetti blaster/Co2 Blower" data-desc="30 kg cylinder and 10 kg paper -- Sangeet" data-price="12000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Co2 Confetti blaster/Co2 Blower</h3>
        <p class="desc">30 kg cylinder and 10 kg paper -- Sangeet</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ12,000</div>
            <div class="price-note">12,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="DMX Confetti Blaster" data-desc="10 kg paper or 10 kg metallic paper-- Sangeet" data-price="13000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>DMX Confetti Blaster</h3>
        <p class="desc">10 kg paper or 10 kg metallic paper-- Sangeet</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ13,000</div>
            <div class="price-note">13,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Confetti Blaster Flower/Flower shower" data-desc="20 kg flower" data-price="15000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Confetti Blaster Flower/Flower shower</h3>
        <p class="desc">20 kg flower</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ15,000</div>
            <div class="price-note">15,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Topcat Bubble Big" data-desc="Large bubble effect" data-price="8000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Topcat Bubble Big</h3>
        <p class="desc">Large bubble effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ8,000</div>
            <div class="price-note">8,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Dry Ice Machine" data-desc="Dry ice fog effect" data-price="8000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Dry Ice Machine</h3>
        <p class="desc">Dry ice fog effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ8,000</div>
            <div class="price-note">8,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="LED CO2 Gun/Co2 gun only" data-desc="45 kg cylinder" data-price="8000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>LED CO2 Gun/Co2 gun only</h3>
        <p class="desc">45 kg cylinder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ8,000</div>
            <div class="price-note">8,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="CO2 Confetti Gun" data-desc="30 kg cylinder" data-price="12000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>CO2 Confetti Gun</h3>
        <p class="desc">30 kg cylinder</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ12,000</div>
            <div class="price-note">12,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Electric Confetti Gun/Ribbon shot" data-desc="Electric powered confetti" data-price="600" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Electric Confetti Gun/Ribbon shot</h3>
        <p class="desc">Electric powered confetti</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ600</div>
            <div class="price-note">600 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Magic FX Stadium Shot" data-desc="10/20 mtr streamer multicolor" data-price="10000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Magic FX Stadium Shot</h3>
        <p class="desc">10/20 mtr streamer multicolor</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Baraat fireworks" data-desc="Per requirement" data-price="0" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Baraat fireworks</h3>
        <p class="desc">Per requirement</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: Custom</div>
          <div style="text-align:right">
            <div class="price">Contact for Price</div>
            <div class="price-note">Per requirement</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Baraat confetti blaster" data-desc="Confetti for baraat" data-price="15000" data-category="sfx">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Baraat confetti blaster</h3>
        <p class="desc">Confetti for baraat</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ15,000</div>
            <div class="price-note">15,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

    </div>

    <!-- CRACKERS SECTION -->
    <div class="section-heading">
      <div class="category-icon">üéÜ</div>
      <div>Crackers & Pyro Effects</div>
      <div class="section-divider"></div>
    </div>
    <div id="crackers-gallery" class="gallery">

      <article class="card" data-name="Imported cold pyro" data-desc="Cold pyrotechnics" data-price="450" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Imported cold pyro</h3>
        <p class="desc">Cold pyrotechnics</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ450</div>
            <div class="price-note">450 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Banquet pyro" data-desc="Pyrotechnics for banquets" data-price="500" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Banquet pyro</h3>
        <p class="desc">Pyrotechnics for banquets</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ500</div>
            <div class="price-note">500 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Imported 1 sec gerbs" data-desc="1 second gerbs effect" data-price="700" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Imported 1 sec gerbs</h3>
        <p class="desc">1 second gerbs effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ700</div>
            <div class="price-note">700 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Pyro dancing machine" data-desc="Rent for machine" data-price="500" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Pyro dancing machine</h3>
        <p class="desc">Rent for machine</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ500</div>
            <div class="price-note">500 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Pyro gun" data-desc="With pyro" data-price="500" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Pyro gun</h3>
        <p class="desc">With pyro</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ500</div>
            <div class="price-note">500 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Hand color smoke gun" data-desc="Colored smoke effect" data-price="450" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Hand color smoke gun</h3>
        <p class="desc">Colored smoke effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ450</div>
            <div class="price-note">450 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Fan wheel machine" data-desc="With 6 pyro" data-price="4000" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Fan wheel machine</h3>
        <p class="desc">With 6 pyro</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ4,000</div>
            <div class="price-note">4,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Niagra water fall cold" data-desc="40 feet" data-price="20000" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Niagra water fall cold</h3>
        <p class="desc">40 feet</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ20,000</div>
            <div class="price-note">20,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Confetti blast" data-desc="Confetti explosion" data-price="450" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Confetti blast</h3>
        <p class="desc">Confetti explosion</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ450</div>
            <div class="price-note">450 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Ariel shots" data-desc="Aerial pyro shots" data-price="650" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Ariel shots</h3>
        <p class="desc">Aerial pyro shots</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ650</div>
            <div class="price-note">650 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Imported comets/mines" data-desc="Imported pyro effect" data-price="650" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Imported comets/mines</h3>
        <p class="desc">Imported pyro effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ650</div>
            <div class="price-note">650 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Indian comets/mines" data-desc="Indian pyro effect" data-price="500" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Indian comets/mines</h3>
        <p class="desc">Indian pyro effect</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ500</div>
            <div class="price-note">500 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Crackling shots" data-desc="500-shot" data-price="25000" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Crackling shots</h3>
        <p class="desc">500-shot</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ25,000</div>
            <div class="price-note">25,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Day mines/Color Shots" data-desc="Daytime color effects" data-price="10000" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Day mines/Color Shots</h3>
        <p class="desc">Daytime color effects</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ10,000</div>
            <div class="price-note">10,000 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Helium balloon entry" data-desc="14 small balloons will come under 1 big balloon" data-price="1600" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Helium balloon entry</h3>
        <p class="desc">14 small balloons will come under 1 big balloon</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ1,600</div>
            <div class="price-note">1,600 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Balloon drop" data-desc="14 small balloons will come under 1 big balloon" data-price="1600" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Balloon drop</h3>
        <p class="desc">14 small balloons will come under 1 big balloon</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ1,600</div>
            <div class="price-note">1,600 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Loose balloons" data-desc="Individual balloons" data-price="60" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Loose balloons</h3>
        <p class="desc">Individual balloons</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pcs</div>
          <div style="text-align:right">
            <div class="price">‚Çπ60</div>
            <div class="price-note">60 / unit</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

      <article class="card" data-name="Fire Show" data-desc="One minute performance" data-price="130000" data-category="crackers">
        <button class="wishlist-btn">‚ô°</button>
        <h3>Fire Show</h3>
        <p class="desc">One minute performance</p>
        <div class="meta">
          <div style="font-size:14px; color:rgba(223,230,235,0.72)">Qty: 1 pc</div>
          <div style="text-align:right">
            <div class="price">‚Çπ1,30,000</div>
            <div class="price-note">1,30,000 / show</div>
          </div>
        </div>
        <div class="cart-controls no-print">
          <div class="qty-selector">
            <button class="qty-btn qty-minus">‚àí</button>
            <span class="qty-display">1</span>
            <button class="qty-btn qty-plus">+</button>
          </div>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </article>

    </div>

    <footer style="height:40px;"></footer>
  </div>

  <!-- Floating Cart Button -->
  <div class="floating-cart no-print" id="floatingCart">
    <button class="btn btn-primary cart-btn" id="openCartBtn" aria-label="View cart">
      üõí Cart
      <span class="cart-badge" id="cartCount" style="display:none;">0</span>
    </button>
  </div>

  <!-- Mini Cart Sidebar -->
  <div id="miniCart" class="mini-cart no-print">
    <div class="mini-cart-header">
      <h3 class="mini-cart-title">Quick View</h3>
      <button class="close-modal" id="closeMiniCart" aria-label="Close">&times;</button>
    </div>
    <div id="miniCartItems"></div>
    <div class="mini-cart-total">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <span style="font-size:16px; color:var(--silver); font-weight:600;">Total:</span>
        <span id="miniCartTotal" style="font-size:20px; color:var(--cyan); font-weight:700;">‚Çπ0</span>
      </div>
    </div>
  </div>

  <!-- Cart Modal -->
  <div id="cartModal" class="modal no-print" role="dialog" aria-labelledby="cart-title">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="cart-title" class="modal-title">Shopping Cart</h2>
        <button class="close-modal" id="closeCartBtn" aria-label="Close cart">&times;</button>
      </div>
      <div id="cartItems" class="cart-items"></div>
      <div class="cart-total">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <span class="total-label">Total Amount:</span>
          <span class="total-amount" id="totalAmount">‚Çπ0</span>
        </div>
      </div>
      <div style="display:flex; gap:10px; margin-bottom:15px;">
        <button class="btn" style="flex:1;" id="clearCartBtn">üóëÔ∏è Clear Cart</button>
      </div>
      <div style="display:flex; gap:10px;">
        <button class="btn btn-primary" style="flex:1;" id="checkoutBtn">
          ‚úÖ Proceed to Checkout
        </button>
      </div>
    </div>
  </div>

  <!-- PACKAGE BUILDER MODAL -->
  <div id="builderModal" class="modal no-print" role="dialog">
    <div class="modal-content wide">
      <div class="modal-header">
        <h2 class="modal-title">Package Builder</h2>
        <button class="close-modal" id="closeBuilderBtn">&times;</button>
      </div>

      <!-- Customer Info -->
      <div style="margin-bottom:20px;">
        <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:15px;">
          <div class="form-group">
            <label class="form-label">Client Name *</label>
            <input type="text" class="form-input" id="builderClientName" placeholder="Enter name" required>
          </div>
          <div class="form-group">
            <label class="form-label">Phone *</label>
            <input type="tel" class="form-input" id="builderPhone" placeholder="Enter phone" required>
          </div>
          <div class="form-group">
            <label class="form-label">Venue</label>
            <input type="text" class="form-input" id="builderVenue" placeholder="Enter venue">
          </div>
          <div class="form-group">
            <label class="form-label">Location</label>
            <input type="text" class="form-input" id="builderLocation" placeholder="Enter location">
          </div>
        </div>
      </div>

      <!-- Split Screen Builder -->
      <div class="builder-container">
        <!-- Left Panel: Days & Functions -->
        <div class="builder-panel">
          <h3>Event Schedule</h3>
          <button class="btn btn-primary" style="width:100%; margin-bottom:15px;" id="addDayBtn">
            ‚ûï Add Day
          </button>
          <div id="daysContainer"></div>
        </div>

        <!-- Right Panel: Products -->
        <div class="builder-panel">
          <h3>Select Items <span id="selectedFunctionName" style="color:var(--cyan); font-size:14px;"></span></h3>
          <div class="product-search">
            <input type="search" class="form-input" id="productSearch" placeholder="Search products...">
          </div>
          <div id="productsContainer"></div>
        </div>
      </div>

      <!-- Summary -->
      <div class="summary-section">
        <h3 style="color:var(--violet); margin-bottom:15px;">Package Summary</h3>
        <div id="builderSummary"></div>
        <div style="margin-top:15px; padding-top:15px; border-top:2px solid var(--cyan);">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span style="font-size:18px; font-weight:600;">Grand Total:</span>
            <span id="builderGrandTotal" style="font-size:24px; color:var(--cyan); font-weight:700;">‚Çπ0</span>
          </div>
        </div>
      </div>

      <div class="checkbox-wrapper">
        <input type="checkbox" id="builderTerms">
        <label for="builderTerms">I agree to the terms and conditions</label>
      </div>

      <div style="display:flex; gap:10px; margin-top:20px;">
        <button class="btn btn-primary" style="flex:1;" id="builderWhatsAppBtn" disabled>
          üì± Send via WhatsApp
        </button>
        <button class="btn" style="flex:1;" id="builderDownloadBtn" disabled>
          üì• Download Image
        </button>
      </div>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div id="checkoutModal" class="modal no-print" role="dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Checkout</h2>
        <button class="close-modal" id="closeCheckoutBtn">&times;</button>
      </div>

      <div class="form-group">
        <label class="form-label">Client Name *</label>
        <input type="text" class="form-input" id="checkoutClientName" placeholder="Enter client name" required>
      </div>
      <div class="form-group">
        <label class="form-label">Phone Number *</label>
        <input type="tel" class="form-input" id="checkoutPhone" placeholder="Enter phone number" required>
      </div>
      <div class="form-group">
        <label class="form-label">Venue</label>
        <input type="text" class="form-input" id="checkoutVenue" placeholder="Enter venue name">
      </div>
      <div class="form-group">
        <label class="form-label">Location</label>
        <input type="text" class="form-input" id="checkoutLocation" placeholder="Enter location">
      </div>
      <div class="form-group">
        <label class="form-label">Function Type</label>
        <input type="text" class="form-input" id="checkoutFunction" placeholder="e.g., Wedding, Birthday, Corporate">
      </div>
      <div class="form-group">
        <label class="form-label">Event Date(s)</label>
        <input type="text" class="form-input" id="checkoutDates" placeholder="Enter event dates">
      </div>

      <div class="form-group">
        <label class="form-label">Preferred Time Slot</label>
        <div class="time-slots">
          <div class="time-slot checkout-time" data-time="morning">üåÖ Morning</div>
          <div class="time-slot checkout-time" data-time="afternoon">‚òÄÔ∏è Afternoon</div>
          <div class="time-slot checkout-time" data-time="evening">üåÜ Evening</div>
          <div class="time-slot checkout-time" data-time="night">üåô Night</div>
        </div>
      </div>

      <div class="checkbox-wrapper">
        <input type="checkbox" id="checkoutTermsCheckbox">
        <label for="checkoutTermsCheckbox">
          I agree that by placing this order, I am acknowledging and accepting terms and conditions.
        </label>
      </div>

      <div style="display:flex; gap:10px; margin-top:20px;">
        <button class="btn btn-primary" style="flex:1;" id="whatsappShareBtn" disabled>
          üì± Share via WhatsApp
        </button>
        <button class="btn" style="flex:1;" id="downloadImageBtn" disabled>
          üì• Download Quote Image
        </button>
      </div>
    </div>
  </div>

  <script>
    // Global Variables
    let cart = [];
    let wishlist = [];
    let checkoutData = {};
    
    // Package Builder Data
    let builderData = {
      clientName: '',
      phone: '',
      venue: '',
      location: '',
      days: []
    };
    let dayCounter = 0;
    let functionCounter = 0;
    let selectedFunctionId = null;
    let allProducts = [];

    // Load/Save Data
    function loadData() {
      const savedCart = localStorage.getItem('priceListCart');
      const savedWishlist = localStorage.getItem('priceListWishlist');
      if (savedCart) {
        try {
          cart = JSON.parse(savedCart);
        } catch(e) {
          cart = [];
        }
      }
      if (savedWishlist) {
        try {
          wishlist = JSON.parse(savedWishlist);
          updateWishlistUI();
        } catch(e) {
          wishlist = [];
        }
      }
      updateCartBadge();
      updateMiniCart();
    }

    function saveCart() {
      localStorage.setItem('priceListCart', JSON.stringify(cart));
    }

    function saveWishlist() {
      localStorage.setItem('priceListWishlist', JSON.stringify(wishlist));
    }

    function updateCartBadge() {
      const badge = document.getElementById('cartCount');
      const count = cart.reduce((sum, item) => sum + item.qty, 0);
      if (count > 0) {
        badge.textContent = count;
        badge.style.display = 'flex';
      } else {
        badge.style.display = 'none';
      }
    }

    function updateMiniCart() {
      const miniCartItems = document.getElementById('miniCartItems');
      const miniCartTotal = document.getElementById('miniCartTotal');
      
      miniCartItems.innerHTML = '';
      let total = 0;
      
      if (cart.length === 0) {
        miniCartItems.innerHTML = '<p style="text-align:center; color:rgba(223,230,235,0.6); font-size:13px;">Cart is empty</p>';
      } else {
        cart.forEach((item) => {
          const itemTotal = item.price * item.qty;
          total += itemTotal;
          
          const itemDiv = document.createElement('div');
          itemDiv.className = 'mini-cart-item shimmer';
          itemDiv.innerHTML = `
            <div style="font-weight:500; margin-bottom:3px;">${item.name}</div>
            <div style="display:flex; justify-content:space-between; align-items:center;">
              <span style="color:rgba(223,230,235,0.6);">Qty: ${item.qty}</span>
              <span style="color:var(--cyan); font-weight:600;">‚Çπ${itemTotal.toLocaleString('en-IN')}</span>
            </div>
          `;
          miniCartItems.appendChild(itemDiv);
          
          setTimeout(() => itemDiv.classList.remove('shimmer'), 100);
        });
      }
      
      miniCartTotal.textContent = `‚Çπ${total.toLocaleString('en-IN')}`;
      miniCartTotal.classList.add('count-animate');
      setTimeout(() => miniCartTotal.classList.remove('count-animate'), 400);
    }

    function createParticleExplosion(element) {
      const rect = element.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      
      const colors = ['#00d5ff', '#8f6bff', '#ffd75e'];
      const particleCount = 20;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.position = 'fixed';
        particle.style.left = centerX + 'px';
        particle.style.top = centerY + 'px';
        particle.style.width = (Math.random() * 6 + 4) + 'px';
        particle.style.height = particle.style.width;
        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
        particle.style.zIndex = '9999';
        
        const angle = (Math.PI * 2 * i) / particleCount;
        const velocity = Math.random() * 100 + 50;
        const tx = Math.cos(angle) * velocity;
        const ty = Math.sin(angle) * velocity;
        
        particle.style.setProperty('--tx', tx + 'px');
        particle.style.setProperty('--ty', ty + 'px');
        
        document.body.appendChild(particle);
        
        setTimeout(() => particle.remove(), 800);
      }
    }

    // Cart Functionality
    document.querySelectorAll('.qty-minus').forEach(btn => {
      btn.addEventListener('click', function() {
        const display = this.nextElementSibling;
        let qty = parseInt(display.textContent);
        qty = Math.max(1, qty - 1);
        display.textContent = qty;
      });
    });

    document.querySelectorAll('.qty-plus').forEach(btn => {
      btn.addEventListener('click', function() {
        const display = this.previousElementSibling;
        let qty = parseInt(display.textContent);
        qty = Math.min(99, qty + 1);
        display.textContent = qty;
      });
    });

    document.querySelectorAll('.add-to-cart').forEach(btn => {
      btn.addEventListener('click', function() {
        const card = this.closest('.card');
        const qtyDisplay = card.querySelector('.qty-display');
        const qty = parseInt(qtyDisplay.textContent);
        
        const item = {
          name: card.dataset.name,
          desc: card.dataset.desc,
          price: parseInt(card.dataset.price) || 0,
          qty: qty
        };
        
        if (item.price === 0) {
          alert('Please contact us for pricing on this item.');
          return;
        }
        
        const existingIndex = cart.findIndex(i => i.name === item.name);
        if (existingIndex >= 0) {
          cart[existingIndex].qty += qty;
        } else {
          cart.push(item);
        }
        
        saveCart();
        
        this.textContent = 'Added ‚úì';
        this.classList.add('added');
        card.classList.add('in-cart');
        
        createParticleExplosion(card);
        
        setTimeout(() => {
          this.textContent = 'Add to Cart';
          this.classList.remove('added');
        }, 1500);
        
        updateCartBadge();
        updateMiniCart();
      });
    });

    document.querySelectorAll('.wishlist-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        const card = this.closest('.card');
        const itemName = card.dataset.name;
        
        if (this.classList.contains('active')) {
          this.classList.remove('active');
          this.textContent = '‚ô°';
          wishlist = wishlist.filter(name => name !== itemName);
        } else {
          this.classList.add('active');
          this.textContent = '‚ô•';
          wishlist.push(itemName);
        }
        
        saveWishlist();
      });
    });

    function updateWishlistUI() {
      document.querySelectorAll('.wishlist-btn').forEach(btn => {
        const card = btn.closest('.card');
        const itemName = card.dataset.name;
        if (wishlist.includes(itemName)) {
          btn.classList.add('active');
          btn.textContent = '‚ô•';
        }
      });
    }

    function openCart() {
      const modal = document.getElementById('cartModal');
      const itemsContainer = document.getElementById('cartItems');
      const totalElement = document.getElementById('totalAmount');
      
      itemsContainer.innerHTML = '';
      let total = 0;
      
      if (cart.length === 0) {
        itemsContainer.innerHTML = '<p style="text-align:center; color:rgba(223,230,235,0.6);">Your cart is empty</p>';
      } else {
        cart.forEach((item, index) => {
          const itemTotal = item.price * item.qty;
          total += itemTotal;
          
          const cartItem = document.createElement('div');
          cartItem.className = 'cart-item';
          cartItem.innerHTML = `
            <div>
              <div style="color:#e9eef2; font-weight:500;">${item.name}</div>
              <div style="color:rgba(223,230,235,0.6); font-size:12px;">${item.desc}</div>
              <div style="color:var(--cyan); margin-top:6px;">‚Çπ${item.price.toLocaleString('en-IN')} √ó ${item.qty}</div>
            </div>
            <div style="text-align:right;">
              <div style="color:var(--cyan); font-weight:600; font-size:16px;">‚Çπ${itemTotal.toLocaleString('en-IN')}</div>
              <button class="btn" style="padding:6px 10px; font-size:12px; margin-top:10px;" onclick="removeFromCart(${index})">Remove</button>
            </div>
          `;
          itemsContainer.appendChild(cartItem);
        });
      }
      
      totalElement.textContent = `‚Çπ${total.toLocaleString('en-IN')}`;
      modal.classList.add('show');
    }

    function closeCart() {
      document.getElementById('cartModal').classList.remove('show');
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      saveCart();
      updateCartBadge();
      updateMiniCart();
      openCart();
    }

    document.getElementById('clearCartBtn').addEventListener('click', function() {
      if (confirm('Are you sure you want to clear your cart?')) {
        cart = [];
        saveCart();
        updateCartBadge();
        updateMiniCart();
        openCart();
      }
    });

    // Toggle Mini Cart and hide Floating Cart
    document.getElementById('toggleMiniCart').addEventListener('click', function() {
      const miniCart = document.getElementById('miniCart');
      const floatingCart = document.getElementById('floatingCart');
      
      if (miniCart.classList.contains('show')) {
        miniCart.classList.remove('show');
        floatingCart.classList.remove('hidden');
      } else {
        miniCart.classList.add('show');
        floatingCart.classList.add('hidden');
      }
    });

    document.getElementById('closeMiniCart').addEventListener('click', function() {
      const miniCart = document.getElementById('miniCart');
      const floatingCart = document.getElementById('floatingCart');
      miniCart.classList.remove('show');
      floatingCart.classList.remove('hidden');
    });

    document.getElementById('openCartBtn').addEventListener('click', openCart);
    document.getElementById('closeCartBtn').addEventListener('click', closeCart);

    // PACKAGE BUILDER
    function initializeBuilder() {
      allProducts = [];
      document.querySelectorAll('.card').forEach(card => {
        allProducts.push({
          name: card.dataset.name,
          desc: card.dataset.desc,
          price: parseInt(card.dataset.price) || 0,
          category: card.dataset.category
        });
      });
      
      renderProducts();
    }

    function renderProducts(searchTerm = '') {
      const container = document.getElementById('productsContainer');
      container.innerHTML = '';
      
      const filtered = allProducts.filter(p => 
        searchTerm === '' || 
        p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        p.desc.toLowerCase().includes(searchTerm.toLowerCase())
      );
      
      filtered.forEach((product, index) => {
        const div = document.createElement('div');
        div.className = 'product-checkbox';
        div.innerHTML = `
          <input type="checkbox" id="prod-${index}" data-product-index="${index}">
          <label for="prod-${index}" style="flex:1;">
            <div style="font-weight:500; margin-bottom:2px;">${product.name}</div>
            <div style="font-size:12px; color:rgba(223,230,235,0.6);">${product.desc}</div>
            <div style="color:var(--cyan); margin-top:4px; font-weight:600;">‚Çπ${product.price.toLocaleString('en-IN')}</div>
          </label>
        `;
        
        const checkbox = div.querySelector('input');
        checkbox.addEventListener('change', function() {
          if (selectedFunctionId === null) {
            this.checked = false;
            alert('Please select a function first!');
            return;
          }
          toggleProductInFunction(filtered[index], this.checked);
        });
        
        if (selectedFunctionId !== null) {
          const day = builderData.days.find(d => d.functions.some(f => f.id === selectedFunctionId));
          if (day) {
            const func = day.functions.find(f => f.id === selectedFunctionId);
            if (func && func.items.some(item => item.name === product.name)) {
              checkbox.checked = true;
            }
          }
        }
        
        container.appendChild(div);
      });
    }

    function toggleProductInFunction(product, add) {
      const day = builderData.days.find(d => d.functions.some(f => f.id === selectedFunctionId));
      if (!day) return;
      
      const func = day.functions.find(f => f.id === selectedFunctionId);
      if (!func) return;
      
      if (add) {
        if (!func.items.some(item => item.name === product.name)) {
          func.items.push({...product, qty: 1});
        }
      } else {
        func.items = func.items.filter(item => item.name !== product.name);
      }
      
      renderDays();
      updateBuilderSummary();
    }

    // QUANTITY CONTROLS IN PACKAGE BUILDER
    function updateItemQty(dayId, funcId, itemName, delta) {
      const day = builderData.days.find(d => d.id === dayId);
      if (!day) return;
      
      const func = day.functions.find(f => f.id === funcId);
      if (!func) return;
      
      const item = func.items.find(i => i.name === itemName);
      if (!item) return;
      
      item.qty = Math.max(1, Math.min(99, item.qty + delta));
      
      updateBuilderSummary();
    }

    function addDay() {
      dayCounter++;
      builderData.days.push({
        id: dayCounter,
        date: '',
        functions: []
      });
      renderDays();
    }

    function removeDay(dayId) {
      if (confirm('Remove this day and all its functions?')) {
        builderData.days = builderData.days.filter(d => d.id !== dayId);
        if (selectedFunctionId) {
          const stillExists = builderData.days.some(d => d.functions.some(f => f.id === selectedFunctionId));
          if (!stillExists) {
            selectedFunctionId = null;
            document.getElementById('selectedFunctionName').textContent = '';
            renderProducts();
          }
        }
        renderDays();
        updateBuilderSummary();
      }
    }

    function addFunction(dayId) {
      const funcName = prompt('Enter function name (e.g., Mehendi, Sangeet, Wedding):');
      if (!funcName) return;
      
      functionCounter++;
      const day = builderData.days.find(d => d.id === dayId);
      if (day) {
        day.functions.push({
          id: functionCounter,
          name: funcName,
          items: []
        });
        renderDays();
      }
    }

    function removeFunction(dayId, funcId) {
      if (confirm('Remove this function and all its items?')) {
        const day = builderData.days.find(d => d.id === dayId);
        if (day) {
          day.functions = day.functions.filter(f => f.id !== funcId);
          if (selectedFunctionId === funcId) {
            selectedFunctionId = null;
            document.getElementById('selectedFunctionName').textContent = '';
            renderProducts();
          }
          renderDays();
          updateBuilderSummary();
        }
      }
    }

    function selectFunction(funcId, funcName) {
      selectedFunctionId = funcId;
      document.getElementById('selectedFunctionName').textContent = `(${funcName})`;
      
      document.querySelectorAll('.function-item').forEach(f => f.classList.remove('active'));
      document.querySelector(`[data-function-id="${funcId}"]`)?.classList.add('active');
      
      renderProducts();
    }

    function renderDays() {
      const container = document.getElementById('daysContainer');
      container.innerHTML = '';
      
      builderData.days.forEach(day => {
        const dayDiv = document.createElement('div');
        dayDiv.className = 'day-item';
        
        let functionsHTML = '';
        day.functions.forEach(func => {
          const itemCount = func.items.length;
          functionsHTML += `
            <div class="function-item ${selectedFunctionId === func.id ? 'active' : ''}" data-function-id="${func.id}" onclick="selectFunction(${func.id}, '${func.name}')">
              <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                  <div style="font-weight:500;">${func.name}</div>
                  <div style="font-size:12px; color:rgba(223,230,235,0.6);">${itemCount} items selected</div>
                </div>
                <button class="btn btn-danger" style="padding:4px 8px; font-size:12px;" onclick="event.stopPropagation(); removeFunction(${day.id}, ${func.id})">‚úï</button>
              </div>
            </div>
          `;
        });
        
        dayDiv.innerHTML = `
          <div class="day-header">
            <span class="day-title">Day ${builderData.days.indexOf(day) + 1}</span>
            <button class="btn btn-danger" style="padding:6px 12px; font-size:13px;" onclick="removeDay(${day.id})">Remove Day</button>
          </div>
          <div class="form-group">
            <input type="date" class="form-input" value="${day.date}" onchange="updateDayDate(${day.id}, this.value)">
          </div>
          <button class="btn" style="width:100%; margin-bottom:10px;" onclick="addFunction(${day.id})">‚ûï Add Function</button>
          ${functionsHTML}
        `;
        
        container.appendChild(dayDiv);
      });
    }

    function updateDayDate(dayId, date) {
      const day = builderData.days.find(d => d.id === dayId);
      if (day) {
        day.date = date;
        updateBuilderSummary();
      }
    }

    function updateBuilderSummary() {
      const container = document.getElementById('builderSummary');
      let grandTotal = 0;
      let html = '';
      
      builderData.days.forEach((day, dayIndex) => {
        let dayTotal = 0;
        html += `
          <div class="summary-day">
            <div style="font-size:16px; font-weight:600; color:var(--cyan); margin-bottom:8px;">
              Day ${dayIndex + 1} ${day.date ? `- ${new Date(day.date).toLocaleDateString('en-IN')}` : ''}
            </div>
        `;
        
        day.functions.forEach(func => {
          let funcTotal = 0;
          html += `<div class="summary-function"><strong>${func.name}</strong></div>`;
          
          func.items.forEach(item => {
            const itemTotal = item.price * item.qty;
            funcTotal += itemTotal;
            html += `
              <div class="summary-item">
                <span>‚Ä¢ ${item.name}</span>
                <div class="summary-item-qty">
                  <button onclick="updateItemQty(${day.id}, ${func.id}, '${item.name.replace(/'/g, "\\'")}', -1)">‚àí</button>
                  <span>${item.qty}</span>
                  <button onclick="updateItemQty(${day.id}, ${func.id}, '${item.name.replace(/'/g, "\\'")}', 1)">+</button>
                  <span style="margin-left:8px; color:var(--cyan); font-weight:600;">‚Çπ${itemTotal.toLocaleString('en-IN')}</span>
                </div>
              </div>
            `;
          });
          
          if (funcTotal > 0) {
            html += `<div style="margin-left:15px; color:var(--violet); font-weight:600; margin-top:5px;">Subtotal: ‚Çπ${funcTotal.toLocaleString('en-IN')}</div>`;
          }
          
          dayTotal += funcTotal;
        });
        
        if (dayTotal > 0) {
          html += `<div style="margin-top:10px; font-size:15px; font-weight:600; color:var(--cyan);">Day Total: ‚Çπ${dayTotal.toLocaleString('en-IN')}</div>`;
        }
        
        html += `</div>`;
        grandTotal += dayTotal;
      });
      
      container.innerHTML = html || '<p style="color:rgba(223,230,235,0.6); text-align:center;">No items selected yet</p>';
      document.getElementById('builderGrandTotal').textContent = `‚Çπ${grandTotal.toLocaleString('en-IN')}`;
    }

    document.getElementById('packageBuilderBtn').addEventListener('click', function() {
      document.getElementById('builderModal').classList.add('show');
      if (builderData.days.length === 0) {
        addDay();
      }
    });

    document.getElementById('closeBuilderBtn').addEventListener('click', function() {
      document.getElementById('builderModal').classList.remove('show');
    });

    document.getElementById('addDayBtn').addEventListener('click', addDay);

    document.getElementById('productSearch').addEventListener('input', function(e) {
      renderProducts(e.target.value);
    });

    document.getElementById('builderTerms').addEventListener('change', function() {
      const whatsappBtn = document.getElementById('builderWhatsAppBtn');
      const downloadBtn = document.getElementById('builderDownloadBtn');
      whatsappBtn.disabled = !this.checked;
      downloadBtn.disabled = !this.checked;
    });

    document.getElementById('builderWhatsAppBtn').addEventListener('click', function() {
      const clientName = document.getElementById('builderClientName').value;
      const phone = document.getElementById('builderPhone').value;
      const venue = document.getElementById('builderVenue').value;
      const location = document.getElementById('builderLocation').value;
      
      if (!clientName || !phone) {
        alert('Please fill in client name and phone!');
        return;
      }
      
      let message = `*FirepowerSFX - Package Quotation*\n\n`;
      message += `*Client Details:*\n`;
      message += `Name: ${clientName}\n`;
      message += `Phone: ${phone}\n`;
      if (venue) message += `Venue: ${venue}\n`;
      if (location) message += `Location: ${location}\n\n`;
      
      let grandTotal = 0;
      
      builderData.days.forEach((day, dayIndex) => {
        message += `*Day ${dayIndex + 1}*`;
        if (day.date) message += ` - ${new Date(day.date).toLocaleDateString('en-IN')}`;
        message += `\n`;
        
        day.functions.forEach(func => {
          message += `\n_${func.name}_\n`;
          func.items.forEach(item => {
            const itemTotal = item.price * item.qty;
            grandTotal += itemTotal;
            message += `‚Ä¢ ${item.name}\n  Qty: ${item.qty} √ó ‚Çπ${item.price.toLocaleString('en-IN')} = ‚Çπ${itemTotal.toLocaleString('en-IN')}\n`;
          });
        });
        message += `\n`;
      });
      
      message += `*Grand Total: ‚Çπ${grandTotal.toLocaleString('en-IN')}*\n\n`;
      message += `_By placing this order, you are acknowledging and accepting terms and conditions._\n\n`;
      message += `Contact us:\nüì± 9898 496 111 (Yogendra)\nüì± 7698 496 111 (Lala)\nüåê www.firepowers.in`;
      
      const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
    });

    // FIXED DOWNLOAD IMAGE FUNCTION
    document.getElementById('builderDownloadBtn').addEventListener('click', function() {
      generateBuilderQuoteImage();
    });

    function generateBuilderQuoteImage() {
      const clientName = document.getElementById('builderClientName').value;
      const phone = document.getElementById('builderPhone').value;
      const venue = document.getElementById('builderVenue').value;
      const location = document.getElementById('builderLocation').value;
      
      if (!clientName || !phone) {
        alert('Please fill in client name and phone!');
        return;
      }
      
      let grandTotal = 0;
      let itemsHTML = '';
      let itemIndex = 0;
      
      builderData.days.forEach((day, dayIndex) => {
        itemsHTML += `<tr><td colspan="5" style="background:#f0f0f0; font-weight:bold; padding:10px;">Day ${dayIndex + 1} ${day.date ? `- ${new Date(day.date).toLocaleDateString('en-IN')}` : ''}</td></tr>`;
        
        day.functions.forEach(func => {
          itemsHTML += `<tr><td colspan="5" style="background:#f9f9f9; font-weight:600; padding:8px; padding-left:20px;">${func.name}</td></tr>`;
          
          func.items.forEach(item => {
            itemIndex++;
            const itemTotal = item.price * item.qty;
            grandTotal += itemTotal;
            itemsHTML += `
              <tr>
                <td style="padding-left:30px;">${itemIndex}</td>
                <td>${item.name}<br><small style="color:#666;">${item.desc}</small></td>
                <td style="text-align:center;">${item.qty}</td>
                <td style="text-align:right;">‚Çπ${item.price.toLocaleString('en-IN')}</td>
                <td style="text-align:right; font-weight:600;">‚Çπ${itemTotal.toLocaleString('en-IN')}</td>
              </tr>
            `;
          });
        });
      });
      
      const quoteHTML = `
        <div style="background: white; color: #000; padding: 40px; border-radius: 12px; max-width: 800px; margin: 0 auto; font-family: Arial, sans-serif;">
          <div style="text-align: center; border-bottom: 3px solid #8f6bff; padding-bottom: 20px; margin-bottom: 30px;">
            <div style="font-size: 32px; font-weight: bold; color: #8f6bff; margin-bottom: 5px;">FIREPOWERSFX</div>
            <div style="font-size: 14px; color: #666;">SFX Machines ‚Ä¢ Crackers ‚Ä¢ Pyro Effects</div>
            <div style="margin-top:10px; font-size:12px; color:#666;">
              üì± 9898 496 111 (Yogendra) | üì± 7698 496 111 (Lala)<br>
              üåê www.firepowers.in | üì∑ @firepowersfx
            </div>
          </div>
          
          <div style="margin-bottom: 25px;">
            <div style="font-size: 16px; font-weight: bold; color: #8f6bff; margin-bottom: 10px; border-bottom: 2px solid #00d5ff; padding-bottom: 5px;">CLIENT INFORMATION</div>
            <table style="width:100%; font-size:13px;">
              <tr><td style="width:30%; padding:5px 0;"><strong>Client Name:</strong></td><td>${clientName}</td></tr>
              <tr><td style="padding:5px 0;"><strong>Phone:</strong></td><td>${phone}</td></tr>
              ${venue ? `<tr><td style="padding:5px 0;"><strong>Venue:</strong></td><td>${venue}</td></tr>` : ''}
              ${location ? `<tr><td style="padding:5px 0;"><strong>Location:</strong></td><td>${location}</td></tr>` : ''}
              <tr><td style="padding:5px 0;"><strong>Quote Date:</strong></td><td>${new Date().toLocaleDateString('en-IN')}</td></tr>
            </table>
          </div>
          
          <div style="margin-bottom: 25px;">
            <div style="font-size: 16px; font-weight: bold; color: #8f6bff; margin-bottom: 10px; border-bottom: 2px solid #00d5ff; padding-bottom: 5px;">PACKAGE DETAILS</div>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
              <thead>
                <tr>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: left; font-size: 14px; width:5%;">#</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: left; font-size: 14px; width:40%;">Item Description</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: center; font-size: 14px; width:10%;">Qty</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: right; font-size: 14px; width:20%;">Rate</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: right; font-size: 14px; width:25%;">Amount</th>
                </tr>
              </thead>
              <tbody>
                ${itemsHTML}
                <tr style="background: #f5f5f5; font-weight: bold;">
                  <td colspan="4" style="text-align:right; font-size:16px; padding: 10px 12px;">GRAND TOTAL:</td>
                  <td style="text-align:right; font-size:18px; color:#8f6bff; padding: 10px 12px;">‚Çπ${grandTotal.toLocaleString('en-IN')}</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0; font-size: 12px; color: #666; text-align: center;">
            <strong>Thank you for choosing FirepowerSFX!</strong><br>
            We look forward to making your event spectacular.
            <div style="font-size: 11px; color: #999; margin-top: 15px; font-style: italic;">
              By placing this order, you are acknowledging and accepting terms and conditions.
            </div>
          </div>
        </div>
      `;
      
      // Create a container and render
      const tempDiv = document.createElement('div');
      tempDiv.style.position = 'fixed';
      tempDiv.style.left = '0';
      tempDiv.style.top = '0';
      tempDiv.style.width = '850px';
      tempDiv.style.zIndex = '-1';
      tempDiv.style.background = 'white';
      tempDiv.innerHTML = quoteHTML;
      document.body.appendChild(tempDiv);
      
      setTimeout(() => {
        html2canvas(tempDiv.firstChild, {
          scale: 2,
          backgroundColor: '#ffffff',
          logging: false,
          useCORS: true,
          windowWidth: 850
        }).then(canvas => {
          document.body.removeChild(tempDiv);
          
          canvas.toBlob(blob => {
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `FirepowerSFX_Package_${Date.now()}.png`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          }, 'image/png', 1.0);
        }).catch(err => {
          document.body.removeChild(tempDiv);
          console.error('Error generating image:', err);
          alert('Error generating image. Please try again.');
        });
      }, 500);
    }

    // CHECKOUT MODAL
    document.getElementById('checkoutBtn').addEventListener('click', function() {
      if (cart.length === 0) {
        alert('Your cart is empty!');
        return;
      }
      closeCart();
      document.getElementById('checkoutModal').classList.add('show');
    });

    document.getElementById('closeCheckoutBtn').addEventListener('click', function() {
      document.getElementById('checkoutModal').classList.remove('show');
    });

    document.querySelectorAll('.checkout-time').forEach(slot => {
      slot.addEventListener('click', function() {
        document.querySelectorAll('.checkout-time').forEach(s => s.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    document.getElementById('checkoutTermsCheckbox').addEventListener('change', function() {
      const whatsappBtn = document.getElementById('whatsappShareBtn');
      const downloadBtn = document.getElementById('downloadImageBtn');
      whatsappBtn.disabled = !this.checked;
      downloadBtn.disabled = !this.checked;
    });

    document.getElementById('whatsappShareBtn').addEventListener('click', function() {
      const clientName = document.getElementById('checkoutClientName').value;
      const phone = document.getElementById('checkoutPhone').value;
      
      if (!clientName || !phone) {
        alert('Please fill in at least client name and phone number');
        return;
      }
      
      checkoutData = {
        clientName: clientName,
        phone: phone,
        venue: document.getElementById('checkoutVenue').value,
        location: document.getElementById('checkoutLocation').value,
        function: document.getElementById('checkoutFunction').value,
        dates: document.getElementById('checkoutDates').value,
        timeSlot: document.querySelector('.checkout-time.selected')?.dataset.time || ''
      };
      
      let message = `*FirepowerSFX - Quotation*\n\n`;
      message += `*Client Details:*\n`;
      message += `Name: ${checkoutData.clientName}\n`;
      message += `Phone: ${checkoutData.phone}\n`;
      if (checkoutData.venue) message += `Venue: ${checkoutData.venue}\n`;
      if (checkoutData.location) message += `Location: ${checkoutData.location}\n`;
      if (checkoutData.function) message += `Function: ${checkoutData.function}\n`;
      if (checkoutData.dates) message += `Date(s): ${checkoutData.dates}\n`;
      if (checkoutData.timeSlot) message += `Time Slot: ${checkoutData.timeSlot}\n`;
      
      message += `\n*Order Details:*\n`;
      let total = 0;
      cart.forEach(item => {
        const itemTotal = item.price * item.qty;
        total += itemTotal;
        message += `‚Ä¢ ${item.name}\n  ${item.desc}\n  Qty: ${item.qty} √ó ‚Çπ${item.price.toLocaleString('en-IN')} = ‚Çπ${itemTotal.toLocaleString('en-IN')}\n\n`;
      });
      
      message += `*Total Amount: ‚Çπ${total.toLocaleString('en-IN')}*\n\n`;
      message += `_By placing this order, you are acknowledging and accepting terms and conditions._\n\n`;
      message += `Contact us:\nüì± 9898 496 111 (Yogendra)\nüì± 7698 496 111 (Lala)\nüåê www.firepowers.in`;
      
      const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
    });

    document.getElementById('downloadImageBtn').addEventListener('click', function() {
      const clientName = document.getElementById('checkoutClientName').value;
      const phone = document.getElementById('checkoutPhone').value;
      
      if (!clientName || !phone) {
        alert('Please fill in at least client name and phone number');
        return;
      }
      
      checkoutData = {
        clientName: clientName,
        phone: phone,
        venue: document.getElementById('checkoutVenue').value,
        location: document.getElementById('checkoutLocation').value,
        function: document.getElementById('checkoutFunction').value,
        dates: document.getElementById('checkoutDates').value,
        timeSlot: document.querySelector('.checkout-time.selected')?.dataset.time || ''
      };
      
      generateCheckoutQuoteImage();
    });

    function generateCheckoutQuoteImage() {
      let total = 0;
      let itemsHTML = '';
      
      cart.forEach((item, index) => {
        const itemTotal = item.price * item.qty;
        total += itemTotal;
        itemsHTML += `
          <tr>
            <td style="padding: 10px 12px; border-bottom: 1px solid #e0e0e0; font-size: 13px;">${index + 1}</td>
            <td style="padding: 10px 12px; border-bottom: 1px solid #e0e0e0; font-size: 13px;">${item.name}<br><small style="color:#666;">${item.desc}</small></td>
            <td style="padding: 10px 12px; border-bottom: 1px solid #e0e0e0; font-size: 13px; text-align:center;">${item.qty}</td>
            <td style="padding: 10px 12px; border-bottom: 1px solid #e0e0e0; font-size: 13px; text-align:right;">‚Çπ${item.price.toLocaleString('en-IN')}</td>
            <td style="padding: 10px 12px; border-bottom: 1px solid #e0e0e0; font-size: 13px; text-align:right; font-weight:600;">‚Çπ${itemTotal.toLocaleString('en-IN')}</td>
          </tr>
        `;
      });
      
      const quoteHTML = `
        <div style="background: white; color: #000; padding: 40px; border-radius: 12px; max-width: 800px; margin: 0 auto; font-family: Arial, sans-serif;">
          <div style="text-align: center; border-bottom: 3px solid #8f6bff; padding-bottom: 20px; margin-bottom: 30px;">
            <div style="font-size: 32px; font-weight: bold; color: #8f6bff; margin-bottom: 5px;">FIREPOWERSFX</div>
            <div style="font-size: 14px; color: #666;">SFX Machines ‚Ä¢ Crackers ‚Ä¢ Pyro Effects</div>
            <div style="margin-top:10px; font-size:12px; color:#666;">
              üì± 9898 496 111 (Yogendra) | üì± 7698 496 111 (Lala)<br>
              üåê www.firepowers.in | üì∑ @firepowersfx
            </div>
          </div>
          
          <div style="margin-bottom: 25px;">
            <div style="font-size: 16px; font-weight: bold; color: #8f6bff; margin-bottom: 10px; border-bottom: 2px solid #00d5ff; padding-bottom: 5px;">CLIENT INFORMATION</div>
            <table style="width:100%; font-size:13px;">
              <tr><td style="width:30%; padding:5px 0;"><strong>Client Name:</strong></td><td>${checkoutData.clientName}</td></tr>
              <tr><td style="padding:5px 0;"><strong>Phone:</strong></td><td>${checkoutData.phone}</td></tr>
              ${checkoutData.venue ? `<tr><td style="padding:5px 0;"><strong>Venue:</strong></td><td>${checkoutData.venue}</td></tr>` : ''}
              ${checkoutData.location ? `<tr><td style="padding:5px 0;"><strong>Location:</strong></td><td>${checkoutData.location}</td></tr>` : ''}
              ${checkoutData.function ? `<tr><td style="padding:5px 0;"><strong>Function:</strong></td><td>${checkoutData.function}</td></tr>` : ''}
              ${checkoutData.dates ? `<tr><td style="padding:5px 0;"><strong>Date(s):</strong></td><td>${checkoutData.dates}</td></tr>` : ''}
              ${checkoutData.timeSlot ? `<tr><td style="padding:5px 0;"><strong>Time Slot:</strong></td><td>${checkoutData.timeSlot}</td></tr>` : ''}
              <tr><td style="padding:5px 0;"><strong>Quote Date:</strong></td><td>${new Date().toLocaleDateString('en-IN')}</td></tr>
            </table>
          </div>
          
          <div style="margin-bottom: 25px;">
            <div style="font-size: 16px; font-weight: bold; color: #8f6bff; margin-bottom: 10px; border-bottom: 2px solid #00d5ff; padding-bottom: 5px;">ITEM DETAILS</div>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
              <thead>
                <tr>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: left; font-size: 14px; width:5%;">#</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: left; font-size: 14px; width:40%;">Item Description</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: center; font-size: 14px; width:10%;">Qty</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: right; font-size: 14px; width:20%;">Rate</th>
                  <th style="background: #8f6bff; color: white; padding: 12px; text-align: right; font-size: 14px; width:25%;">Amount</th>
                </tr>
              </thead>
              <tbody>
                ${itemsHTML}
                <tr style="background: #f5f5f5; font-weight: bold;">
                  <td colspan="4" style="text-align:right; font-size:16px; padding: 10px 12px;">TOTAL AMOUNT:</td>
                  <td style="text-align:right; font-size:18px; color:#8f6bff; padding: 10px 12px;">‚Çπ${total.toLocaleString('en-IN')}</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0; font-size: 12px; color: #666; text-align: center;">
            <strong>Thank you for choosing FirepowerSFX!</strong><br>
            We look forward to making your event spectacular.
            <div style="font-size: 11px; color: #999; margin-top: 15px; font-style: italic;">
              By placing this order, you are acknowledging and accepting terms and conditions.
            </div>
          </div>
        </div>
      `;
      
      const tempDiv = document.createElement('div');
      tempDiv.style.position = 'fixed';
      tempDiv.style.left = '0';
      tempDiv.style.top = '0';
      tempDiv.style.width = '850px';
      tempDiv.style.zIndex = '-1';
      tempDiv.style.background = 'white';
      tempDiv.innerHTML = quoteHTML;
      document.body.appendChild(tempDiv);
      
      setTimeout(() => {
        html2canvas(tempDiv.firstChild, {
          scale: 2,
          backgroundColor: '#ffffff',
          logging: false,
          useCORS: true,
          windowWidth: 850
        }).then(canvas => {
          document.body.removeChild(tempDiv);
          
          canvas.toBlob(blob => {
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `FirepowerSFX_Quote_${Date.now()}.png`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          }, 'image/png', 1.0);
        }).catch(err => {
          document.body.removeChild(tempDiv);
          console.error('Error generating image:', err);
          alert('Error generating image. Please try again.');
        });
      }, 500);
    }

    // SEARCH & FILTER
    const searchInput = document.getElementById('search');
    const budgetFilter = document.getElementById('budgetFilter');
    const sortFilter = document.getElementById('sortFilter');
    const allCards = Array.from(document.querySelectorAll('.card'));

    function filterCards() {
      const searchQuery = (searchInput.value || '').toLowerCase().trim();
      const budgetRange = budgetFilter.value;
      const sortBy = sortFilter.value;
      
      let visibleCards = allCards.filter(card => {
        if (searchQuery) {
          const searchText = `${card.dataset.name} ${card.dataset.desc} ${card.dataset.price}`.toLowerCase();
          if (!searchText.includes(searchQuery)) return false;
        }
        
        if (budgetRange) {
          const price = parseInt(card.dataset.price) || 0;
          if (budgetRange === '0-10000' && price >= 10000) return false;
          if (budgetRange === '10000-25000' && (price < 10000 || price > 25000)) return false;
          if (budgetRange === '25000-50000' && (price < 25000 || price > 50000)) return false;
          if (budgetRange === '50000-100000' && (price < 50000 || price > 100000)) return false;
          if (budgetRange === '100000+' && price < 100000) return false;
        }
        
        return true;
      });
      
      if (sortBy) {
        visibleCards.sort((a, b) => {
          const priceA = parseInt(a.dataset.price) || 0;
          const priceB = parseInt(b.dataset.price) || 0;
          
          if (sortBy === 'price-low') {
            return priceA - priceB;
          } else if (sortBy === 'price-high') {
            return priceB - priceA;
          } else if (sortBy === 'name') {
            return a.dataset.name.localeCompare(b.dataset.name);
          }
        });
      }
      
      allCards.forEach(card => {
        card.style.display = 'none';
        card.style.order = '';
      });
      
      visibleCards.forEach((card, index) => {
        card.style.display = '';
        if (sortBy) card.style.order = index;
      });
    }

    searchInput.addEventListener('input', filterCards);
    budgetFilter.addEventListener('change', filterCards);
    sortFilter.addEventListener('change', filterCards);

    // SPARK EFFECTS
    const sparkContainer = document.getElementById('spark-layer');
    
    function createSparkElement(x, y, size, duration, colorClass) {
      const el = document.createElement('div');
      el.className = 'spark ' + colorClass;
      el.style.left = x + 'px';
      el.style.top = y + 'px';
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      el.style.opacity = (colorClass === 'cyan') ? (0.5 + Math.random()*0.5) : (0.4 + Math.random()*0.5);
      el.style.animationDuration = duration + 'ms';
      const drift = (Math.random() - 0.5) * 50;
      el.style.transform = `translateX(${drift}px)`;
      return el;
    }
    
    let blueTimer, goldTimer;
    
    function startSparks() {
      function spawnBlue() {
        const w = window.innerWidth;
        const x = Math.random() * w;
        const y = window.innerHeight - 20;
        const size = 5 + Math.random()*7;
        const dur = 3000 + Math.random()*2000;
        const s = createSparkElement(x,y,size,dur,'cyan');
        sparkContainer.appendChild(s);
        setTimeout(() => s.remove(), dur + 300);
      }
      
      function spawnGold() {
        const w = window.innerWidth;
        const x = Math.random() * w;
        const y = window.innerHeight - 30;
        const size = 6 + Math.random()*7;
        const dur = 3500 + Math.random()*2500;
        const s = createSparkElement(x,y,size,dur,'gold');
        if (sparkContainer.firstChild) {
          sparkContainer.insertBefore(s, sparkContainer.firstChild);
        } else {
          sparkContainer.appendChild(s);
        }
        setTimeout(() => s.remove(), dur + 400);
      }
      
      blueTimer = setInterval(spawnBlue, 350);
      goldTimer = setInterval(spawnGold, 700);
    }
    
    function spawnHoverBurst(card) {
      const rect = card.getBoundingClientRect();
      
      for (let i = 0; i < 8; i++) {
        const x = rect.left + rect.width * (0.2 + Math.random()*0.6);
        const y = rect.top + rect.height * (0.7 + Math.random()*0.25);
        const size = 5 + Math.random()*7;
        const dur = 1000 + Math.random()*1200;
        const el = createSparkElement(x,y,size,dur,'cyan');
        sparkContainer.appendChild(el);
        setTimeout(() => el.remove(), dur + 300);
      }
      
      for (let i = 0; i < 4; i++) {
        const x = rect.left + rect.width * (0.2 + Math.random()*0.6) + (Math.random()*30-15);
        const y = rect.top + rect.height * (0.75 + Math.random()*0.2);
        const size = 6 + Math.random()*7;
        const dur = 1200 + Math.random()*1400;
        const el = createSparkElement(x,y,size,dur,'gold');
        sparkContainer.appendChild(el);
        setTimeout(() => el.remove(), dur + 400);
      }
    }
    
    allCards.forEach(card => {
      let hoverInterval = null;
      
      card.addEventListener('mouseenter', () => {
        spawnHoverBurst(card);
        hoverInterval = setInterval(() => spawnHoverBurst(card), 600);
      });
      
      card.addEventListener('mouseleave', () => {
        if (hoverInterval) {
          clearInterval(hoverInterval);
          hoverInterval = null;
        }
      });
    });
    
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        if (blueTimer) clearInterval(blueTimer);
        if (goldTimer) clearInterval(goldTimer);
      } else {
        startSparks();
      }
    });
    
    window.addEventListener('beforeunload', () => {
      if (blueTimer) clearInterval(blueTimer);
      if (goldTimer) clearInterval(goldTimer);
    });

    // Close modals on backdrop click
    document.querySelectorAll('.modal').forEach(modal => {
      modal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('show');
        }
      });
    });
    
    // INITIALIZE
    loadData();
    startSparks();
    initializeBuilder();
  </script>
</body>
</html>
